
# 히스토그램의 꽉 끼는 직사각형

가로 한 칸의 너비가 1이고, 높이가 양의 정수인 직사각형을 N개 이어붙여 히스토그램을 만들었다. 구체적으로, 왼쪽에서 i번째 직사각형의 높이는 hi이다. 편의상 히스토그램의 밑변 방을 x축, 높이 방향을 y축으로 두고, 첫 번째 직사각형의 왼쪽 아래 꼭짓점을 원점으로 두자. 다시 말해, 히스토그램의 i번째 직사각형의 왼쪽 아래 꼭짓점은 (i-1, 0), 오른쪽 위 꼭짓점은 (i, hi)가 된다. (1 ≤ i ≤ N)

히스토그램에 들어갈 수 있는 가장 큰 직사각형을 구하는 문제는 유명하다. 하지만 오늘은 가장 큰 직사각형 뿐만 아니라, 더 높아질 수 없는 직사각형들에 주목해보자.

히스토그램에 들어가는 직사각형 중 네 꼭짓점의 좌표가 모두 정수이고, 축과 평행한 직사각형 X를 생각해보자. 만약 X를 포함하면서 X보다 높이가 큰 직사각형이 존재하지 않는다면, X를 "꽉 끼는 직사각형"이라고 한다.

래준이는 꽉 끼는 직사각형들을 높이에 따라 분류하고자 한다. 높이가 h인 꽉 끼는 직사각형의 개수를 Th라고 하자. hi > 0인 모든 h에 대해 Th를 구하는 프로그램을 작성해보자.

입력
첫 번째 인자로 히스토그램을 이루는 직사각형의 높이 h1, …, hN가 배열로 주어진다. (1 ≤ hi ≤ 109)
배열의 길이 N은 히스토그램의 가로 너비이다. (1 ≤ N ≤ 300,000)

출력
Th > 0을 만족하는 모든 h에 대해, h와 Th 값을 반환한다.
답은 h에 대한 오름차순으로 출력한다

H	return
[3,2,1,1,3]	[[1,11],[2,2],[3,2]]

입력 예지

직사각형을 [왼쪽 아래 꼭짓점의 좌표, 오른쪽 위 꼭짓점의 좌표]로 표현했을 때,

높이가 3인 꽉 끼는 직사각형은 [(0, 0), (1, 3)], [(4,0), (5,3)]으로 2개이고,

높이가 2인 꽉 끼는 직사각형은 [(0, 0), (2, 2)], [(1, 0), (2, 2)]로 2개이다.

높이가 1인 꽉 끼는 직사각형은 [(0, 0), (5, 1)]을 비롯해 총 11개가 있다.

# 맛집 탐방
온라인 지도 서비스에서 식당 검색 기능을 추가하였다. 다음 그림과 같이 식당을 의미하는 마크를 표시하는데, 검색 위치에 식당이 많은 경우, 마크가 겹쳐서 잘 보이지 않는다.

사용자의 편의성 개선을 위하여 최소한의 이동으로 마크가 겹치지 않도록 회피하는 알고리즘을 작성하시오.

image.png

지도는 그림과 같은 2 차원 그리드 좌표계이며, 각 좌표는 두 쌍의 정수 X,Y로 표현한다. (0 ≤ X,Y ≤ 32767)

마크는 그리드 좌표계에서 대각선 모서리 두 점으로 표현하며, 각 점은 그리드의 최소, 최대 범위를 넘지 않는다.

image.png

마크는 정수 단위로 이동하며, 한번에 하나의 축으로만 이동이 가능하다. 또한, 마크는 크기가 변하지 않고, 회전하지 않는다.

image.png

입력
첫 번째 인자로 마크의 수 N이 주어진다. (1 ≤ N ≤ 10,000) 두 번째 인자로 마크의 위치 정보 l1, …, lN이 배열로 주어진다.

배열 L의 원소는 최소 하나 이상 존재하며, 모서리 두 점을 표현하는 4개의 정수이다. X1 Y1 X2 Y2 (0 <= X,Y <= 32767)

출력
모든 마크가 서로 겹치지 않도록 하는 최소 이동 횟수를 반환한다.
최소 이동 횟수는 최대 20을 넘지 않는다.
최초에 주어진 마크가 겹치지 않아서 이동할 필요가 없다면 0을 출력한다.

입출력 예제
N	L	return
3	[[5,7,6,6],[3,9,5,4],[8,2,7,6]]	1
예제 설명
주어진 라벨이 다음과 같을때,

L1	L2	L3
[5,7,6,6]	[3,9,5,4]	[8,2,7,6]
L1과 L2는 서로 겹치고, L3는 겹치는 마크가 없는 상태이다. 3개의 마크가 겹치지 않는 조건을 위해서 회피할 수 있는 방법은 다음과 같다.

L1을 -X축으로 1번 이동하는 방법
L2를 +Y축, +X축으로 2번 이동하는 방법
L3를 +X축으로 1번 이동하고, L2를 +X축으로 1번 이동하는 방법
3가지 방법에서 최소 이동 횟수는 1이다.